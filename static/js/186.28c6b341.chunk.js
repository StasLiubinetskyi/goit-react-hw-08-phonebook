"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[186],{1186:function(e,r,a){a.r(r),a.d(r,{default:function(){return h}});var s=a(4270),n=a(4165),t=a(5861),l=a(4942),o=a(1413),i=a(9439),c=a(2791),u=a(9434),d=a(2571),m={form:"LoginForm_form__gPEx5",label:"LoginForm_label__F7sLE"},p=a(184),f=function(){var e=(0,u.I0)(),r=(0,c.useState)({email:"",password:""}),a=(0,i.Z)(r,2),s=a[0],f=a[1],h=(0,c.useState)({email:"",password:""}),x=(0,i.Z)(h,2),b=x[0],g=x[1],v=(0,c.useState)(""),w=(0,i.Z)(v,2),j=w[0],_=w[1],k=function(e){var r=e.target,a=r.name,n=r.value;f((0,o.Z)((0,o.Z)({},s),{},(0,l.Z)({},a,n)))},Z=function(){var e={};return s.email||(e.email="Email is required"),s.password||(e.password="Password is required"),e},y=function(){var r=(0,t.Z)((0,n.Z)().mark((function r(a){var t,l,o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),t=Z(),0!==Object.keys(t).length){r.next=22;break}return r.prev=3,r.next=6,e((0,d.x4)(s));case 6:if(200!==(l=r.sent).status){r.next=11;break}console.log("User logged in successfully"),r.next=15;break;case 11:return r.next=13,l.json();case 13:(o=r.sent)&&o.message?_(o.message):_("An error occurred. Please try again later.");case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(3),_("An error occurred. Please try again later.");case 20:r.next=23;break;case 22:g(t);case 23:case"end":return r.stop()}}),r,null,[[3,17]])})));return function(e){return r.apply(this,arguments)}}();return(0,p.jsxs)("form",{className:m.form,onSubmit:y,autoComplete:"off",children:[(0,p.jsxs)("label",{className:m.label,children:["Email",(0,p.jsx)("input",{type:"email",name:"email",value:s.email,onChange:k}),b.email&&(0,p.jsx)("div",{className:m.error,children:b.email})]}),(0,p.jsxs)("label",{className:m.label,children:["Password",(0,p.jsx)("input",{type:"password",name:"password",value:s.password,onChange:k}),b.password&&(0,p.jsx)("div",{className:m.error,children:b.password})]}),j&&(0,p.jsx)("div",{className:m.error,children:j}),(0,p.jsx)("button",{type:"submit",children:"Log In"})]})};function h(){return(0,p.jsxs)("div",{children:[(0,p.jsx)(s.q,{children:(0,p.jsx)("title",{children:"Login"})}),(0,p.jsx)(f,{})]})}}}]);
//# sourceMappingURL=186.28c6b341.chunk.js.map